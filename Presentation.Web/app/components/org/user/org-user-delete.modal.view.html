<div class="modal-header">
    <button type="button" class="close" data-ng-click="ctrl.cancel()" data-dismiss="modal">
        &times;
    </button>
    <h3 align="center">Slet bruger fra organisation</h3>
    <h5> {{ctrl.firstName}} {{ctrl.lastName}} - {{ctrl.email}}</h5>
</div>

<div class="modal-body">
    <h5 ng-show="ctrl.vmProjectRights.length || ctrl.vmSystemRights.length || ctrl.vmItContractsRights.length || ctrl.vmOrgUnitRights.length">
        Der vises brugerens tildelte roller i denne organisation.<br>
        Disse roller kan tildeles andre brugere eller slettes helt fra organisationen.
    </h5>
    <h5 ng-hide="ctrl.vmProjectRights.length || ctrl.vmSystemRights.length || ctrl.vmItContractsRights.length || ctrl.vmOrgUnitRights.length">Brugerens har ikke nogen tildelte roller i denne organisation</h5>
    <!-- Table containing organization data -->
    <table class="table table-hover" ng-show="{{ctrl.vmOrgUnitRights.length}}">
        <thead>
            <tr>
                <th>Vælg</th>
                <th>Organisation</th>
                <th>Rolle</th>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="user in ctrl.vmOrgUnitRights | filter:{UserId:ctrl.userId}">
                <td><input type="checkbox" /></td>
                <td>{{ctrl.vmOrgUnits[user.ObjectId -1].Name}}</td>
                <td>{{ctrl.vmOrgUnitRoles[user.RoleId -1].Name}}</td>
            </tr>
        </tbody>
    </table>
    <!-- Table containing project data -->
    <table class="table table-hover" ng-show="{{ctrl.vmProjectRights.length}}">
        <thead>
            <tr>
                <th>Vælg</th>
                <th>Projektnavn</th>
                <th>Rolle</th>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="user in ctrl.vmProjectRights | filter:{UserId:ctrl.userId}">
                <td><input type="checkbox" /></td>
                <td>{{ctrl.vmProject[user.ObjectId -1].Name}}</td>
                <td>{{ctrl.vmProjectRoles[user.RoleId -1].Name}}</td>
            </tr>
        </tbody>
    </table>
    <!-- Table containing ItSystem data -->
    <table class="table table-hover" ng-show="{{ctrl.vmSystemRights.length}}">
        <thead>
            <tr>
                <th>Vælg</th>
                <th>Systemnavn</th>
                <th>Rolle</th>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="user in ctrl.vmSystemRights | filter:{UserId:ctrl.userId}">
                <td><input type="checkbox" /></td>
                <td>{{ctrl.vmSystem[user.ObjectId -1].Name}}</td>
                <td>{{ctrl.vmSystemRoles[user.RoleId -1].Name}}</td>
            </tr>
        </tbody>
    </table>
    <!-- Table containing ItContract data -->
    <table class="table table-hover" ng-show="{{ctrl.vmItContractsRights.length}}">
        <thead>
            <tr>
                <th>Vælg</th>
                <th>Kontraktnavn</th>
                <th>Rolle</th>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="user in ctrl.vmItContractsRights | filter:{UserId:ctrl.userId}">
                <td><input type="checkbox" /></td>
                <td>{{ctrl.vmItContracts[user.ObjectId -1].Name}}</td>
                <td>{{ctrl.vmItContractsRoles[user.RoleId -1].Name}}</td>
            </tr>
        </tbody>
    </table>
    <!-- Table containing administrative roller data -->
    <table class="table table-hover" ng-show="{{ctrl.vm.isGlobalAdmin || ctrl.vm.isLocalAdmin || ctrl.vm.isOrgAdmin || ctrl.vm.isProjectAdmin || ctrl.vm.isSystemAdmin || ctrl.vm.isContractAdmin || ctrl.vm.isReportAdmin}}">
        <thead>
            <tr>
                <th>Vælg</th>
                <th>Adminstrative rettigheder</th>
            </tr>
        </thead>
        <tbody>
        <tr ng-show="{{ctrl.vm.isLocalAdmin}}">
            <td><input type="checkbox" /></td>
            <td>Lokal administrator</td>
        </tr>
        <tr ng-show="{{ctrl.vm.isOrgAdmin}}">
            <td><input type="checkbox" /></td>
            <td>Organisation administrator</td>
        </tr>
        <tr ng-show="{{ctrl.vm.isProjectAdmin}}">
            <td><input type="checkbox" /></td>
            <td>Projekt administrator</td>
        </tr>
        <tr ng-show="{{ctrl.vm.isSystemAdmin}}">
            <td><input type="checkbox" /></td>
            <td>System administrator</td>
        </tr>
        <tr ng-show="{{ctrl.vm.isContractAdmin}}">
            <td><input type="checkbox" /></td>
            <td>Kontrakt administrator</td>
        </tr>
        <tr ng-show="{{ctrl.vm.isReportAdmin}}">
            <td><input type="checkbox" /></td>
            <td>Rapport administrator</td>
        </tr>

        </tbody>
    </table>
</div>

<div class="modal-footer">
    <button type="submit" class="btn btn-danger" data-ng-click="ctrl.assign()" data-disabled-on-busy>Slet valgte</button>
    <button type="submit" class="btn btn-primary" data-ng-click="ctrl.assign()" data-disabled-on-busy>Tildel valgte</button>
    <button type="submit" class="btn btn-primary" data-ng-click="ctrl.ok()" data-disabled-on-busy>Tildel valgte og fjern</button>
    <button type="submit" class="btn btn-default" data-ng-click="ctrl.cancel()" data-disabled-on-busy>Annuller</button>
</div>