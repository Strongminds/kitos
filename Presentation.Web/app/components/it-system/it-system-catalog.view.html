<div id="mainGrid" data-kendo-grid="systemCatalogVm.mainGrid" data-k-options="systemCatalogVm.mainGridOptions"></div>

<div data-kendo-window="systemCatalogVm.modal"
     data-k-title="'Anvendelse'" data-k-width="800"
     data-k-visible="false" data-k-modal="true">
    <div data-kendo-grid="systemCatalogVm.usageGrid" data-k-options="systemCatalogVm.usageDetailsGrid"></div>
</div>

<div data-kendo-window="systemCatalogVm.modalMigration"
     data-k-title="'Migration'" data-k-width="800"
     data-k-visible="false" data-k-modal="true" id="migrationModelWindow2">
    <!--<div id="availableSystems" data-kendo-grid="systemCatalogVm.usageGridMigration" data-k-options="systemCatalogVm.usageDetailsGridMigration"></div>-->
    <div id="select2MigrationContainer">
        <input type="hidden"
               id="new-system-usage"
               class="form-control input-sm"
               data-ui-select2="mySelectOptions"
               data-ng-model="mySelectOptionsModel"
               data-placeholder="Vælg IT system">
        <button ng-click='systemCatalogVm.migrateSystemTo()' class='k-primary pull-right'>Se konsekvens</button>
    </div>
</div>

<div data-kendo-window="systemCatalogVm.modalMigrationConsequence"
     data-k-title="'Konsekvens'" data-k-width="1100"
     data-k-visible="false" data-k-modal="true" >
    <div id="copyPasteConsequence" style="">
        <div>
            <h3>Opsummering af ændringer ifm. flytning af ”IT-System anvendelse” til et nyt hovedsystem </h3>
            <br>
            <h4>Systemanvendelse flyttes</h4>
            <br>
            <table class="fromToItsystems full-width table org-role-table">
                <tr >
                    <th >Fra</th>
                    <th >Til</th>
                </tr>
                <tr>
                    <td>
                        Systemnavn: {{systemCatalogVm.migrationReportDTO.fromSystem.name }}
                        <br />
                        System ID: {{ systemCatalogVm.migrationReportDTO.fromSystem.id}}
                    </td>
                    <td>
                        Systemnavn: {{systemCatalogVm.migrationReportDTO.toSystem.name }}
                        <br />
                        System ID: {{ systemCatalogVm.migrationReportDTO.toSystem.id}}
                    </td>
                </tr>
            </table>
            <br>
            <h4>Følgene kontrakter berøres</h4>
            <br>
            <table class="affectedInterfaces full-width table org-role-table">
                <tr > 
                    <th >Id</th>
                    <th>Navn</th>
                    <th >System anvendes</th>
                    <th >“Anvender relationer der flyttes”</th>
                    <th >“Udstiller” relationer der slettes</th>
                </tr>
                <tbody ng-repeat="aff in systemCatalogVm.migrationReportDTO.affectedContracts">
                    <tr>
                        <td>{{aff.contract.id}}</td>
                        <td>{{aff.contract.name}}</td>
                        <td>ja</td>
                        <!--<td ng-repeat="aiu in aff.affectedInterfaceUsages">{{aiu.id}} - {{aiu.name}}</td>
                        <td ng-repeat="aed in aff.interfaceExhibitUsagesToBeDeleted">{{aed.id}} - {{aed.name}}</td>-->
                        <td> <ul> <li ng-repeat="aiu in aff.affectedInterfaceUsages">{{aiu.id}} - {{aiu.name}}</li></ul></td>
                        <td> <ul> <li ng-repeat="aed in aff.interfaceExhibitUsagesToBeDeleted">{{aed.id}} - {{aed.name}}</li></ul></td>
                    </tr>
            </table>
            <br/>
            <h4>Følgende projekter, hvor IT-Systemet anvendes, berørers</h4>
            <br/>
            <table class="affecteditProjects full-width table org-role-table">
                <tr > 
                    <th >Id</th>
                    <th >Navn</th>
                </tr>
                <tbody ng-repeat="aip in systemCatalogVm.migrationReportDTO.affectedItProjects">
                <tr>
                    <td>{{aip.id}}</td>
                    <td>{{aip.name}}</td>
                </tr>
            </table>
        </div>
    </div>
    <button ng-click='systemCatalogVm.copyToClipBoard()'>Copy</button>
    <button ng-click='systemCatalogVm.cancelMigration()' class='k-primary pull-left'>Annullere</button>
    <button ng-click='systemCatalogVm.startMigration()' class='k-primary pull-right'>Start flytning</button>
    <style>
        /*.affectedInterfaces table {
            width: 900px;
        }
        .fromToItsystems table {
            
            width: 900px;
        }
        .fromToItsystems .affectedInterfaces table 
        {
            table-layout: fixed;
            border-collapse: collapse;
            border-spacing: 0;
            border: 1px solid white;
        }
        table tr:nth-child(even) {
            background: gray;
        }
        table tr:nth-child(odd) {
            background: white;
        }
        th {
            align-content: center;
            font-size: medium;
        }
        tr {
            align-content: center;
        }
        th, td {
            padding-right: 30px;

        }*/
    </style>
</div>