<div class="object-section-container">
    <h4> {{usage.itSystem.name}}<span ng-if="usage.itSystem.disabled">(Slettes)</span></h4>
    <div class="panel panel-default">
        <div class="panel-heading">{{usage.itSystem.name}} har følgende relationer til andre systemer/snitflader:</div>
        <table class="table table-condensed table-striped">
            <thead>
                <tr>
                    <th>
                        IT System (udstiller)
                    </th>
                    <th>
                        Snitflade
                    </th>
                    <th>
                        Beskrivelse
                    </th>   
                    <th>
                        Reference
                    </th>
                    <th>
                        Kontrakt
                    </th>
                    <th>
                        Frekvens
                    </th>
                </tr>   
            </thead>
            <tbody>
                <!--data-ng-repeat=""-->
                <tr ng-repeat="relation in relationTabledata">
                    <td><a href="#/system/usage/{{relation.toUsage.id}}/main">{{relation.toUsage.name}}</a></td>
                    <td><a href="#/system/edit/{{relation.interface.id}}/interface/main">{{relation.interface.name}}</a></td>
                    <td style="max-width: 300px">
                        <p ng-if="relation.description.length < 198" data-element-type="relationDescription">{{relation.description}}</p>
                        <p ng-if="relation.description.length > 199" style="height: 3em; overflow: hidden" id="readMoreParagraph" data-element-type="relationDescription">{{relation.description}}</p>
                        <button type="button" ng-if="relation.description.length > 199" ng-click="expandParagraph($event)">read more</button>
                    </td>
                    <td style="overflow-wrap: break-word; max-width: 150px">
                        <span ng-if="validateReference(relation.reference)" data-element-type="relationReference"><a href="" ng-click="relation.reference">➤</a></span>
                        <span ng-if="!validateReference(relation.reference)" data-element-type="relationReference">{{relation.reference}}</span>
                    </td>
                    <td><a href="#/contract/edit/{{relation.contract.id}}/main">{{relation.contract.name}}</a></td>
                    <td data-element-type="relationFrequencyType">{{relation.frequencyType.name}}</td>
                </tr>
            </tbody>
        </table>
        <button id="create-Relation" class="btn btn-success btn-sm pull-right" data-ng-click="createRelation()" style="margin-top: 5px">Opret relation</button>
    </div>
</div>