<div class="object-section-container">
    <h4 data-element-type="dpaMainDetailHeader">{{::vm.headerName}}</h4>
    <div class="panel panel-default">
        <div class="row">
            <div class="col-xs-6">
                <!-- Name -->
                <div class="form-group">
                    <label for="dataProcessingRegistration-name" class="control-label small">Navn</label>
                    <input type="text" id="dataProcessingRegistration-name" class="form-control input-sm" required
                           data-ng-model="vm.dataProcessingRegistration.name"
                           data-element-type="dpaMainName"
                           data-field="name"
                           ng-blur="vm.changeName(vm.dataProcessingRegistration.name)"
                           data-ng-disabled="!vm.hasWriteAccess"
                           autofocus
                           maxlength="150">
                </div>
            </div>
            <div class="col-xs-6">
                <div class="form-group">
                    <!-- Data processors -->
                    <label for="dpTable" class="control-label small">Databehandlere</label>
                    <table id="dpTable" class="table table-striped table-bordered">
                        <thead>
                            <tr>
                                <!--TODO: New classes for this-->
                                <th class="GDPRHeaderPadding">
                                    <p class="small">Navn</p>
                                </th>
                                <th class="GDPRHeaderPadding noRightBorder">
                                    <p class="small">CVR</p>
                                </th>
                                <th class="GDPRHeaderPadding noLeftBorder"></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="dataProcessor in vm.dataProcessors" data-element-type="data-processing_data-processors">
                                <td>
                                    {{::dataProcessor.name }}
                                </td>
                                <td class="noRightBorder">
                                    {{::dataProcessor.cvrNumber }}
                                </td>
                                <td class="text-right noLeftBorder" style="width: 20px;">
                                    <button type="button"
                                            class="btn btn-danger btn-xs"
                                            data-confirmed-click="vm.removeDataProcessor({{::dataProcessor.id }})"
                                            data-confirm-click="Er du sikker på at du vil slette tilknytningen?"
                                            ng-if="vm.hasWriteAccess">
                                        <i class="glyphicon glyphicon-trash"></i>
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                        <!--TODO-->
                        <!--<tfoot ng-if="hasWriteAccess" class="noPaddingLeftRightGDPR">
                        <tr>
                            <td colspan="3" style="padding: 0">
                                <input type="hidden"
                                       id="dataWorker-selector"
                                       class="form-control input-sm"
                                       data-ui-select2="dataWorkerSelectOptions"
                                       ng-model="selectedDataWorker"
                                       ng-change="saveDataworker()"
                                       data-placeholder="Vælg Databehandler" />
                            </td>
                        </tr>
                        </tfoot>-->
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="object-section-container"></div>