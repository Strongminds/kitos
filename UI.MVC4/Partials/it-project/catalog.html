<div search-box data-paging="pagination"></div>
<table class="table table-condensed table-striped">
    <thead>
        <tr>
            <th>
                IT Projekt
                <order-by data-order-by="'name'" data-paging="pagination"></order-by>
            </th>
            <th>
                Oprettet af: Organisation
                <order-by data-order-by="'organizationName'" data-paging="pagination"></order-by>
            </th>
            <th>
                Oprettet af: Navn
                <order-by data-order-by="'objectOwner.name'" data-paging="pagination"></order-by>
            </th>
            <th>
                Projekt ID
                <order-by data-order-by="'itProjectId'" data-paging="pagination"></order-by>
            </th>
            <th>
                Type
                <order-by data-order-by="'itProjectType.name'" data-paging="pagination"></order-by>
            </th>
            <th>
                Public
                <order-by data-order-by="'accessModifier'" data-paging="pagination"></order-by>
            </th>
            <th>
                Arkiv
                <order-by data-order-by="'isArchived'" data-paging="pagination"></order-by>
            </th>
            <th><!-- control --></th>
        </tr>
    </thead>
    <tbody>
        <tr data-ng-repeat="p in projects | filter : { show: true }">
            <!-- name + link -->
            <td>
                <a data-ui-sref="it-project.edit.status-project({id: p.id})">
                    {{ p.name ? p.name : 'intet navn' }}
                </a>
            </td>
            
            <!-- created by org -->
            <td>
                {{ p.organizationName }}
            </td>

            <!-- object owner -->
            <td>
                {{ p.objectOwnerName }}
            </td>

            <!-- human readable id -->
            <td>
                {{ p.itProjectId }}
            </td>
            
            <!-- type -->
            <td>
                {{ p.itProjectTypeName }}
            </td>

            <!-- access modifier -->
            <td>
                {{ p.accessModifier == 1 ? 'P' : '' }}
            </td>
            
            <!-- archived -->
            <td>
                {{ p.isArchived == 1 ? 'A' : '' }}
            </td>
            
            <!-- buttons -->
            <td class="text-right">
                <button class="btn btn-danger btn-xs" data-tooltip="Slet projektet" data-ng-if="p.hasWriteAccess" data-confirmed-click="p.delete()"
                              data-confirm-click="Er du sikker på at du vil slette projektet? Dette kan ikke fortrydes!">
                          <i class="glyphicon glyphicon-trash"></i>
                      </button>
                <button class="btn btn-info btn-xs" data-ng-click="p.clone()" data-tooltip="Klon projektet">
                    Klon
                </button>
            </td>
        </tr>
    </tbody>    
    <tfoot>
        <tr>
            <td colspan="9" class="text-center">
                <span data-pagination-buttons="pagination"></span>
            </td>
        </tr>
    </tfoot>
</table>
