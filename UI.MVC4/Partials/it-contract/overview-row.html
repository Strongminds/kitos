<!-- contract name -->
<td>
    {{ contract.indentation }}
    <button class="btn btn-xs btn-link" data-ng-class="{'invisible': !contract.hasChildren}" data-ng-click="contract.toggleFold()">
        <i class="glyphicon" 
           data-ng-class="{'glyphicon-chevron-right': !contract.unfolded, 'glyphicon-chevron-down': contract.unfolded}">
        </i>
    </button>

    <a data-ui-sref="it-contract.edit.systems({id: contract.id})">
        {{contract.name ? contract.name : 'Unavngiven'}}
    </a>
</td>

<!-- responsible org unit name -->
<td>{{ contract.responsibleOrganizationUnitName }}
</td>

<!-- name of users with the selected role -->
<td>{{ contract.rights | filter:{roleId:chosenRoleId} | joinBy:', ':'user.name'}}
</td>

<!-- supplier name -->
<td>{{ contract.supplierName }}
</td>

<!-- sum of acquisition column -->
<td class="text-right">
    <span data-ng-if="contract.acquisitionSum != null">{{ contract.acquisitionSum }}</span>
</td>

<!-- sum of operation column -->
<td class="text-right">
    <span data-ng-if="contract.operationSum != null">{{ contract.operationSum }}</span>
</td>

<!-- payment model -->
<td>
    {{ contract.paymentModelName }}
</td>

<!-- first audit date -->
<td>
    <span data-ng-model="contract.firstAuditDate" data-datereader="" data-ng-if="contract.firstAuditDate"></span>
    <span data-ng-if="!contract.firstAuditDate" class="text-muted">Ingen</span>
</td>

<!-- audit status aggregated -->
<td>
    <div data-show-status="contract.status" data-ng-if="contract.status.max > 0"></div>
</td>
