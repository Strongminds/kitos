<div class="panel panel-default">
    <div class="panel-heading">Ekstern betaling</div>
    <table class="table table-condensed small">
        <thead>
            <tr>
                <th>Organisationsenhed</th>
                <th>EAN</th>
                <th>Anskaffelse</th>
                <th>Drift/år</th>
                <th>Andet</th>
                <th>Kontering</th>
                <th>Audit</th>
                <th>Dato</th>
                <th>Note</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            <tr data-ng-repeat="stream in externEconomyStreams | filter:{'show':true}">
                <!-- ORG UNIT -->
                <td>
                    <div data-ng-model="stream.organizationUnitId" data-select-org-unit="" data-extra-options="extraOptions"
                         data-ng-disabled="!hasWriteAccess" 
                         data-ng-change="stream.updateEan()"
                         data-field="organizationUnitId"
                         data-autosave="{{stream.updateUrl}}" data-allow-clear="true"></div>
                </td>
                
                <!-- EAN #  -->
                <td>
                    {{stream.ean}}
                </td>
                
                <!-- ACQUISITION "Anskaffelse" -->
                <td>
                    <input type="number" class="input-sm form-control" data-ng-model="stream.acquisition"
                           data-ng-disabled="!hasWriteAccess" 
                           data-field="acquisition"
                           data-autosave="{{stream.updateUrl}}"/>
                </td>
                
                <!-- Operation "drift" -->
                <td>
                    <input type="number" class="input-sm form-control" data-ng-model="stream.operation"
                           data-ng-disabled="!hasWriteAccess" 
                           data-field="operation"
                           data-autosave="{{stream.updateUrl}}"/>
                </td>
                
                <!-- Other -->
                <td>
                    <input type="number" class="input-sm form-control" data-ng-model="stream.other"
                           data-ng-disabled="!hasWriteAccess" 
                           data-field="other"
                           data-autosave="{{stream.updateUrl}}"/>
                </td>

                <!-- Accounting entry "kontering" -->
                <td>
                    <input type="text" class="input-sm form-control" data-ng-model="stream.accountingEntry"
                           data-ng-disabled="!hasWriteAccess" 
                           data-field="accountingEntry"
                           data-autosave="{{stream.updateUrl}}"/>
                </td>
                
                <!-- Audit trafficlight -->
                <td>
                    <span data-select-status2="" data-ng-model="stream.auditStatus" data-can-write="hasWriteAccess"
                          data-field="auditStatus"
                          data-autosave="{{stream.updateUrl}}"></span>
                </td>
                
                <!-- Audit date -->
                <td>
                    <span data-ng-model="stream.auditDate" data-datewriter="" 
                          data-is-disabled="!hasWriteAccess" 
                          data-field="auditDate"
                          data-autosave="{{stream.updateUrl}}"></span>
                </td>

                <!-- Note -->
                <td>
                    <input type="text" class="input-sm form-control" data-ng-model="stream.note"
                           data-ng-disabled="!hasWriteAccess" 
                        data-field="note"
                        data-autosave="{{stream.updateUrl}}"/>
                </td>
                
                <!-- delete button -->
                <td>
                    <div class="pull-right" data-ng-hide="!hasWriteAccess">
                        <a class="btn btn-link btn-xs"
                           data-confirmed-click="stream.delete()"
                           data-confirm-click="Er du sikker på at du vil slette?">
                            <i class="glyphicon glyphicon-trash"></i>
                        </a>
                    </div>
                </td>
            </tr>
        </tbody>
        <tfoot data-ng-if="hasWriteAccess">
            <tr>
                <td colspan="10">
                    <div class="pull-right">
                        <button class="btn btn-success btn-sm" data-ng-click="newExtern()">
                            <i class="glyphicon glyphicon-plus small"></i> Ny
                        </button>
                    </div>
                </td>
            </tr>
        </tfoot>
    </table>
</div>

<div class="panel panel-default">
    <div class="panel-heading">Intern betaling</div>
    <table class="table table-condensed small">
        <thead>
            <tr>
                <th>Organisationsenhed</th>
                <th>EAN</th>
                <th>Anskaffelse</th>
                <th>Drift/år</th>
                <th>Andet</th>
                <th>Kontering</th>
                <th>Audit</th>
                <th>Dato</th>
                <th>Note</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            <tr data-ng-repeat="stream in internEconomyStreams | filter:{'show':true}">
                <!-- ORG UNIT -->
                <td>
                    <div data-ng-model="stream.organizationUnitId" data-select-org-unit="" data-extra-options="extraOptions"
                         data-ng-disabled="!hasWriteAccess" 
                         data-ng-change="stream.updateEan()"
                         data-field="organizationUnitId"
                         data-autosave="{{stream.updateUrl}}" data-allow-clear="true"></div>
                </td>
                
                <!-- EAN #  -->
                <td>
                    {{stream.ean}}
                </td>
                
                <!-- ACQUISITION "Anskaffelse" -->
                <td>
                    <input type="number" class="input-sm form-control" data-ng-model="stream.acquisition"
                           data-ng-disabled="!hasWriteAccess" 
                           data-field="acquisition"
                           data-autosave="{{stream.updateUrl}}"/>
                </td>
                
                <!-- Operation "drift" -->
                <td>
                    <input type="number" class="input-sm form-control" data-ng-model="stream.operation"
                           data-ng-disabled="!hasWriteAccess" 
                           data-field="operation"
                           data-autosave="{{stream.updateUrl}}"/>
                </td>
                
                <!-- Other -->
                <td>
                    <input type="number" class="input-sm form-control" data-ng-model="stream.other"
                           data-ng-disabled="!hasWriteAccess" 
                           data-field="other"
                           data-autosave="{{stream.updateUrl}}"/>
                </td>

                <!-- Accounting entry "kontering" -->
                <td>
                    <input type="text" class="input-sm form-control" data-ng-model="stream.accountingEntry"
                           data-ng-disabled="!hasWriteAccess" 
                           data-field="accountingEntry"
                           data-autosave="{{stream.updateUrl}}"/>
                </td>
                
                <!-- Audit trafficlight -->
                <td>
                    <span data-select-status2="" data-ng-model="stream.auditStatus" data-can-write="hasWriteAccess"
                          data-field="auditStatus"
                          data-autosave="{{stream.updateUrl}}"></span>
                </td>
                
                <!-- Audit date -->
                <td>
                    <span data-ng-model="stream.auditDate" data-datewriter="" 
                          data-is-disabled="!hasWriteAccess" 
                          data-field="auditDate"
                          data-autosave="{{stream.updateUrl}}"></span>
                </td>

                <!-- Note -->
                <td>
                    <input type="text" class="input-sm form-control" data-ng-model="stream.note"
                           data-ng-disabled="!hasWriteAccess" 
                        data-field="note"
                        data-autosave="{{stream.updateUrl}}"/>
                </td>
                
                <!-- delete button -->
                <td>
                    <div class="pull-right" data-ng-hide="!hasWriteAccess">
                        <a class="btn btn-link btn-xs"
                           data-confirmed-click="stream.delete()"
                           data-confirm-click="Er du sikker på at du vil slette?">
                            <i class="glyphicon glyphicon-trash"></i>
                        </a>
                    </div>
                </td>
            </tr>
        </tbody>
        <tfoot data-ng-if="hasWriteAccess">
            <tr>
                <td colspan="10">
                    <div class="pull-right">
                        <button class="btn btn-success btn-sm" data-ng-click="newIntern()">
                            <i class="glyphicon glyphicon-plus small"></i> Ny
                        </button>
                    </div>
                </td>
            </tr>
        </tfoot>
    </table>
</div>