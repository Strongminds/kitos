<form class="form-horizontal fix-label-padding" data-ng-submit="saveSystem()">
    <div class="row">
        <div class="col-md-7">
            <div class="col-md-6">

                <!--Name-->
                <div class="form-group">
                    <label for="system-name" class="control-label col-md-5 small">IT System</label>
                    <div class="col-md-7">
                        <input type="text" id="system-name" data-ng-model="system.systemName" class="form-control input-sm" />
                    </div>
                </div>

                <!--ID-->
                <div class="form-group">
                    <label for="system-id" class="control-label col-md-5 small">System ID</label>
                    <div class="col-md-7">
                        <input type="text" id="system-id" data-ng-model="system.systemId" class="form-control input-sm" />
                    </div>
                </div>

                <!--Parent system-->
                <div class="form-group">
                    <label for="system-parent" class="control-label col-md-5 small">Overordnet system</label>
                    <div class="col-md-7">
                        <input type="hidden" data-ui-select2="itSystemsSelectOptions" id="system-parent" data-ng-model="system.systemParent" class="form-control input-sm" >
                    </div>
                </div>
                <!--Interfaces can-use-->
                <div class="form-group">
                    <label for="system-interfaces-can-use" class="control-label col-md-5 small">Snitflader (kan anvende)</label>
                    <div class="col-md-7">
                        <input type="hidden" data-ui-select2="itSystemsInterfacesOptions" id="system-interfaces-can-use" data-ng-model="system.interfacesCanUse" class="form-control input-sm" multiple="multiple">
                    </div>
                </div>
            </div>

            <div class="col-md-6">
                <!--Version-->
                <div class="form-group">
                    <label for="system-version" class="control-label col-md-5 small">Version</label>
                    <div class="col-md-7">
                        <input type="text" id="system-version" data-ng-model="system.systemVersion" class="form-control input-sm" />
                    </div>
                </div>

                <!--Access modifier -->
                <div class="form-group">
                    <label for="system-access" class="control-label col-md-5 small">Public</label>
                    <div class="col-md-7">
                        <input type="text" id="system-access" data-ng-model="system.systemAccess" class="form-control input-sm" />
                    </div>
                </div>

                <!--Application type -->
                <div class="form-group">
                    <label for="system-app-type" class="control-label col-md-5 small">Applikationstype</label>
                    <div class="col-md-7">
                        <select data-ui-select2="" id="system-app-type" data-ng-model="system.systemAppType" class="form-control input-sm" >
                            <option data-ng-repeat="appType in appTypes" value="{{appType.id}}">{{appType.name}}</option>
                        </select>
                    </div>
                </div>

                <!--Usage type-->
                <div class="form-group">
                    <label for="system-business-type" class="control-label col-md-5 small">Forretningstype</label>
                    <div class="col-md-7">
                        <select data-ui-select2="" id="system-business-type" data-ng-model="system.systemBusinessType" class="form-control input-sm" >
                            <option data-ng-repeat="businessType in businessTypes" value="{{businessType.id}}">{{businessType.name}}</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-md-5">

            <!--Description-->
            <div class="form-group">
                <label for="system-description" class="control-label col-md-4 small">Beskrivelse</label>
                <div class="col-md-8">
                    <textarea id="system-description" data-ng-model="system.systemDescription" class="form-control input-sm" rows="7"></textarea>
                </div>
            </div>

            <!--Further description-->
            <div class="form-group">
                <label for="system-url" class="control-label col-md-4 small">Link til yderligere beskrivelse</label>
                <div class="col-md-8">
                    <input type="text" id="system-url" data-ng-model="system.systemUrl" class="form-control input-sm" placeholder="URL" />
                </div>
            </div>
        </div>
    </div>

    <div class="row">&nbsp;</div>

    <!-- interface specific data -->
    <div class="row panel panel-default" data-ng-if="system.systemAppType == interfaceAppType.id">
        <div class="panel-heading small">Snitflade egenskaber</div>
        <div class="col-md-6 panel-body">
            <div class="form-group">
                <label for="interface-tsa" class="control-label col-md-2 small">TSA</label>
                <div class="col-md-4">
                    <select data-ui-select2="" id="interface-tsa" data-ng-model="system.tsa" class="form-control input-sm" >
                        <option data-ng-repeat="tsa in tsas" value="{{tsa.id}}">{{tsa.name}}</option>
                    </select>
                </div>
                <label for="interface-type" class="control-label col-md-2 small">Snitfladetype</label>
                <div class="col-md-4">
                    <select data-ui-select2="" id="interface-type" data-ng-model="system.interfaceType" class="form-control input-sm" >
                        <option data-ng-repeat="interfaceType in interfaceTypes" value="{{interfaceType.id}}">{{interfaceType.name}}</option>
                    </select>
                </div>
            </div>

            <div class="form-group">
                <label for="interface-interface" class="control-label col-md-2 small">Grænseflade</label>
                <div class="col-md-4">
                    <select data-ui-select2="" id="interface-interface" data-ng-model="system.interface" class="form-control input-sm" >
                        <option data-ng-repeat="_interface in interfaces" value="{{_interface.id}}">{{_interface.name}}</option>
                    </select>
                </div>
                <label for="interface-method" class="control-label col-md-2 small">Metode</label>
                <div class="col-md-4">
                    <select data-ui-select2="" id="interface-method" data-ng-model="system.method" class="form-control input-sm" >
                        <option data-ng-repeat="method in methods" value="{{method.id}}">{{method.name}}</option>
                    </select>
                </div>
            </div>

            <div class="form-group">
                <label for="interface-exposing-system" class="control-label col-md-2 small">Udstillet af</label>
                <div class="col-md-4">
                    <input type="text" data-ui-select2="itSystemsSelectOptions" id="interface-exposing-system" data-ng-model="interface.exposingSystem" class="form-control input-sm" >
                </div>
            </div>
        </div>
        
        <div class="col-md-6 panel-body">
            <table class="table table-condensed table-bordered">
                <thead>
                    <tr>
                        <th>Data</th>
                        <th>Datatype</th>
                    </tr>
                </thead>
                <tbody>
                    <tr data-ng-repeat="dataRow in system.dataRows">
                        <td>
                            <input type="text" class="form-control input-sm" data-ng-model="dataRow.data" />
                        </td>
                        <td>
                            <select data-ui-select2="" data-ng-model="dataRow.dataType" class="form-control input-sm" >
                                <option data-ng-repeat="dataType in dataTypes" value="{{dataType.id}}">{{dataType.name}}</option>
                            </select>
                        </td>
                    </tr>
                </tbody>
                <tfoot>
                    <tr>
                        <td>
                            <input type="text" class="form-control input-sm" id="newData" data-ng-model="newDataRow.data" data-ng-change="addDataRow(newDataRow)" placeholder="Ny række"/>
                        </td>
                        <td>
                            <select data-ui-select2="" data-ng-model="newDataRow.dataType" class="form-control input-sm" data-ng-change="addDataRow(newDataRow)" data-placeholder="Vælg datatype">
                                <option></option>
                                <option data-ng-repeat="dataType in dataTypes" value="{{dataType.id}}">{{dataType.name}}</option>
                            </select>
                        </td>
                    </tr>

                </tfoot>
            </table>
        </div>

    </div>
    
    <div class="row">
        <input type="submit" value="Gem IT system" class="btn btn-success full-width"/>
    </div>

</form>
