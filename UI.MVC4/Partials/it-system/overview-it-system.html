<table class="table full-width table-striped">
    <thead>
        <tr>
            <th>IT System 
                <button data-order-by="'itSystem.name'" data-paging="pagination"></button>
            </th>
            <th>Ansv. organisationsenhed
                <button data-order-by="'responsibleUnit.name'" data-paging="pagination"></button>
            </th>
            <th>
                <select data-ng-model="chosenRoleId" data-ng-init="chosenRoleId = 1" data-ng-options="r.id as r.name for r in itSystemRoles">
                    <option value="">-- Vælg rolle --</option>
                </select>
            </th>
            <th>
                <select data-ng-model="showSystemId">
                    <option value="itSystem.systemId">Globalt SystemID
                    </option>
                    <option value="localSystemId">Lokalt SystemID
                    </option>
                </select>
                <button data-order-by="showSystemId" data-paging="pagination"></button>
            </th>
            <th>
                <select data-ng-model="showType">
                    <option value="itSystem.appType.name">Applikationstype
                    </option>
                    <option value="itSystem.businessType.name">Forretningstype
                    </option>
                </select>
                <button data-order-by="showType" data-paging="pagination"></button>
            </th>
            <th>Anvender
            </th>
            <th>Udstiller
            </th>
            <th>Overblik
                <button data-order-by="'overviewItSystem.name'" data-paging="pagination"></button>
            </th>
        </tr>
    </thead>
    <tbody>
        <tr data-ng-repeat="usage in systemUsages">
            <td>
                <a data-ui-sref="it-system.usage.interfaces({id: usage.id})">{{usage.itSystem.name}}</a>
                <span data-ng-if="usage.itSystem.accessModifier == 1" class="small text-muted" data-tooltip="Public">
                    (P)
                </span>
            </td>
            <td>{{ usage.responsibleUnit.name }}
            </td>
            <td>
                {{ usage.rights | filter:{roleId: chosenRoleId} | joinBy:', ':'user.name' }}
            </td>
            <td data-ng-switch="showSystemId">
                <span data-ng-switch-when="itSystem.systemId">{{usage.itSystem.systemId}}</span>
                <span data-ng-switch-when="localSystemId">{{usage.localSystemId}}</span>
            </td>
            <td data-ng-switch="showType">
                <span data-ng-switch-when="itSystem.appType.name">{{usage.itSystem.appType.name}}</span>
                <span data-ng-switch-when="itSystem.businessType.name">{{usage.itSystem.businessType.name}}</span>
            </td>
            <td>{{ usage.activeInterfaceUsages }}
                ({{ usage.itSystem.canUseInterfaceIds.length }})
            </td>
            <td>
                <span data-ng-if="usage.itSystem.exposedBy != null">
                    {{ usage.itSystem.exposedBy.name }}
                </span>
                <span data-ng-if="usage.itSystem.exposedBy == null">
                    {{ usage.itSystem.exposedInterfaceIds.length }}
                </span>
            </td>
            <td>{{ usage.overviewItSystemName }}
            </td>
        </tr>
    </tbody>
    <tfoot>
        <tr>
            <td colspan="8" class="text-center">
                <span data-pagination-buttons="pagination"></span>
            </td>
        </tr>
    </tfoot>
</table>
