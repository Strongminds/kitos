<table class="table full-width table-striped">
    <thead>
        <tr>
            <th>IT System</th>
            <th>
                <select data-ng-model="showSystemId">
                    <option value="global">Globalt SystemID
                    </option>
                    <option value="local">Lokalt SystemID
                    </option>
                </select>
            </th>
            <th>
                <select data-ng-model="showType">
                    <option value="appType">Applikationstype
                    </option>
                    <option value="businessType">Forretningstype
                    </option>
                </select>
            </th>
            <th>Anvender</th>
            <th>Udstiller</th>
            <th>Overblik</th>
            <th>Ansv. organisationsenhed</th>
            <th>
                <select data-ng-model="chosenRoleId" data-ng-init="chosenRoleId = 1" data-ng-options="r.id as r.name for r in itSystemRoles">
                    <option value="">-- Vælg rolle --</option>
                </select>
            </th>
        </tr>
    </thead>
    <tbody>
        <tr data-ng-repeat="usage in systemUsages">
            <td>
                <a data-ui-sref="it-system.usage.interfaces({id: usage.id})">{{usage.itSystem.name}}</a>
                <span data-ng-if="usage.itSystem.accessModifier == 1" class="small text-muted" data-tooltip="Public">
                    (P)
                </span>
            </td>
            <td data-ng-switch="showSystemId">
                <span data-ng-switch-when="global">{{usage.itSystem.systemId}}</span>
                <span data-ng-switch-when="local">{{usage.localSystemId}}</span>
            </td>
            <td data-ng-switch="showType">
                <span data-ng-switch-when="appType">{{usage.itSystem.appType.name}}</span>
                <span data-ng-switch-when="businessType">{{usage.itSystem.businessType.name}}</span>
            </td>
            <td>{{ usage.interfaceUsages.length }}
                ({{ usage.itSystem.canUseInterfaceIds.length }})
            </td>
            <td>
                <span data-ng-if="usage.itSystem.exposedBy != null">
                    {{ usage.itSystem.exposedBy.name }}
                </span>
                <span data-ng-if="usage.itSystem.exposedBy == null">
                    {{ usage.itSystem.exposedInterfaceIds.length }}
                </span>
            </td>
            <td>{{ usage.overviewItSystemName }}
            </td>
            <td>{{ usage.responsibleUnit.name }}
            </td>
            <td>
                {{ usage.rights | filter:{roleId: chosenRoleId} | joinBy:', ':'user.name' }}
            </td>
        </tr>
    </tbody>
    <tfoot>
        <tr>
            <td colspan="8" class="text-center">
                <span data-pagination-buttons="pagination"></span>
            </td>
        </tr>
    </tfoot>
</table>
